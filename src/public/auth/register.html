<!DOCTYPE html>
<html lang="en">
<head>
    <title>Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/form.css"/>
    <style>
        /* This will apply a minimum height to the entire viewport, allowing centering */
        .vh-100 {
            height: 100vh;
        }
    </style>
</head>
<body>
<div class="d-flex justify-content-center align-items-center vh-100">
    <form id="user-form">
        <h1 class="text-center mb-4">Register</h1>
        <div class="mb-3">
            <label class="form-label" for="name">Name:</label>
            <input class="form-control" type="text" id="name" name="name"/>
        </div>
        <div class="mb-3">
            <label class="form-label" for="date_of_birth">Date of Birth:</label>
            <input class="form-control" type="date" id="date_of_birth" name="date_of_birth"/>
        </div>
        <div class="mb-3">
            <label class="form-label" for="email">Email:</label>
            <input class="form-control" type="email" id="email" name="email"/>
        </div>
        <div class="mb-3">
            <input type="submit" class="btn btn-primary w-100" value="Register"/> <!-- w-100 makes the button full width -->
        </div>
        <div class="mb-3">
            <a href="/auth/login.html" class="btn btn-secondary w-100">Login</a> <!-- w-100 makes the button full width -->
        </div>
        <div class="mb-3">
            <button class="btn btn-warning w-100" onclick="window.history.back();">Go Back</button> <!-- w-100 makes the button full width -->
        </div>
    </form>
</div>

<!--<a href="/auth/login.html" class="btn btn-secondary">Login</a>-->
<!--<button class="btn btn-warning" onclick="window.history.back();">Go Back</button>-->

<script>
    async function postData(url = "", data = {}) {
        const response = await fetch(url, {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
        });
        return response.json();
    }

    const form = document.getElementById("user-form");

    form.addEventListener("submit", async (event) => {
        event.preventDefault();

        const formData = new FormData(form);
        const user = Object.fromEntries(formData.entries());

        const res = await postData("/api/auth/register", user);

        console.log(res);
        window.location.href = "/auth/login.html";
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>
    </script>
  </body>
>>>>>>> src/public/auth/register.html
</html>
